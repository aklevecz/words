(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{47:function(t,e,n){t.exports=n(90)},82:function(t,e){},89:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(38),a=n.n(c),u=n(5),i=n(43),l=n(17),d=n(18),s=n.n(d),f=n(39),b=n(40),p=n.n(b);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var v,h=o.a.createContext();v="https://eng.med--lab.org";var w=function(){var t=Object(f.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/words/"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=p()(v,{path:"/socket.io",transport:["websocket"]}),x=function(t,e){switch(e.type){case"INCREMENT":var n=e.word,r=n.color,o=n.text_color,c=n.word,a=n.vote,u=n.publisher;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,Object(l.a)({},c,{vote:a,color:r,text_color:o,publisher:u}));case"init":return e.newState;default:return t}},y=function(t,e){switch(e.type){case"init":return e.words;case"ADD_WORD":return[].concat(Object(i.a)(t),[e.word.word])}},j=function(t){var e=t.children,n=Object(r.useReducer)(y,[]),c=Object(u.a)(n,2),a=c[0],i=c[1],l=Object(r.useReducer)(x,{}),d=Object(u.a)(l,2),s=d[0],f=d[1];return Object(r.useEffect)((function(){return g.on("updateword",(function(t){t.isNew&&i({type:"ADD_WORD",word:t}),f({type:"INCREMENT",word:t})})),w().then((function(t){var e={},n=t.map((function(t){return e[t.word]={vote:t.vote,color:t.color,text_color:t.text_color,publisher:t.publisher},t.word}));i({type:"init",words:n}),f({type:"init",newState:e})})),function(){return g.close()}}),[]),o.a.createElement(h.Provider,{value:{wordz:a,socket:g,votez:s}},e)},O=n(1),k=n(4);var E=function(t){var e=t.data,n=t.socket;return Object(r.useEffect)((function(){if(0!==Object.keys(e).length){var t=O.g().domain([0,20]).range([30,55]),r=Object.keys(e).map((function(n){return{text_color:e[n].text_color,color:e[n].color,name:n,radius:t(e[n].vote),id:n.replace(" ","_")}})),o=O.f(r).force("charge",O.e().strength(100)).force("center",O.c(200,200)).force("collision",O.d().radius((function(t){return t.radius}))).on("tick",(function(){a.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),u.attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y+t.radius/5-this.textContent.length/7}))}));O.h("svg").call(O.a().subject((function(){return o.find(O.b.x,O.b.y)})).on("start",(function(){O.b.active||o.alphaTarget(.3).restart();O.b.subject.fx=O.b.subject.x,O.b.subject.fy=O.b.subject.y})).on("drag",(function(){O.b.subject.fx=O.b.x,O.b.subject.fy=O.b.y})).on("end",(function(){O.b.active||o.alphaTarget(0);O.b.subject.fx=null,O.b.subject.fy=null})));var c=O.h("svg").selectAll("circle").data(r).enter(),a=c.append("circle").attr("id",(function(t){return t.id+"c"})).attr("fill",(function(t){return t.color})).style("stroke","white").style("stroke-width","5px").attr("r",(function(t){return t.radius})).on("click",(function(t){n.emit("colorword",{word:t.name,color:k.random().hex(),type:"circ"})})),u=c.append("text").attr("id",(function(t){return t.id+"t"})).attr("text-anchor","middle").style("fill",(function(t){return t.text_color})).style("font-weight","bolder").text((function(t){return t.name})).style("font-size",(function(t){return function(t,e){return Math.min(2*t.radius,(2*t.radius-8)/e.getComputedTextLength()*15)+"px"}(t,this)})).style("stroke-width",(function(t){return t.radius/100})).on("click",(function(t){n.emit("colorword",{word:t.name,color:k.random().hex(),type:"text"})}));return function(){O.h("svg").selectAll("*").remove()}}}),[e]),o.a.createElement("svg",{width:"400",height:"400"})},D=n(2),_=n(3);function C(){var t=Object(D.a)(["\n  background: ",";\n"]);return C=function(){return t},t}function P(){var t=Object(D.a)(["\n  background: ",";\n"]);return P=function(){return t},t}function S(){var t=Object(D.a)(["\n  background: ",";\n"]);return S=function(){return t},t}function z(){var t=Object(D.a)(["\n  padding: 1rem;\n"]);return z=function(){return t},t}function A(){var t=Object(D.a)(["\n    margin: 2rem 3rem;\n    font-family: monospace;\n"]);return A=function(){return t},t}function R(){var t=Object(D.a)(["\ntext-align:center;\nbutton {\n    width: 130px;\n    height: 30px;\n    border-radius: 0px 0px 30px 30px;\n    font-weight: bolder;\n    font-size: 1.1rem;\n    color:black;\n}\n"]);return R=function(){return t},t}function I(){var t=Object(D.a)(["\ntext-align: center;\ninput {\n    height: 30px;\n    width: 240px;\n    border-radius: 20px;\n    text-align: center;\n    font-size: 1rem;\n}\n"]);return I=function(){return t},t}function N(){var t=Object(D.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  text-align: center;\n  padding: 0 3rem;\n"]);return N=function(){return t},t}function T(){var t=Object(D.a)(["\n  background: ",";\n  height: 100%;\n  color:white;\n"]);return T=function(){return t},t}function W(){var t=Object(D.a)(["\ntext-align: center;\nfont-size:3rem;\n"]);return W=function(){return t},t}var B="#e159e1",M="#53e553",J="#ffff82",L=_.a.div(W()),$=_.a.div(T(),(function(t){return t.color})),q=(_.a.div(N()),_.a.div(I())),F=_.a.div(R()),G=_.a.div(A()),H=_.a.div(z());Object(_.a)(H)(S(),B),Object(_.a)(H)(P(),M),Object(_.a)(H)(C(),J);var K=function(){var t=Object(r.useContext)(h),e=t.wordz,n=t.socket,c=t.votez,a=Object(r.useState)("mood"),i=Object(u.a)(a,2),l=(i[0],i[1]),d=Object(r.useState)(""),s=Object(u.a)(d,2),f=s[0],b=s[1],p=Object(r.useState)(localStorage.getItem("raptor")),m=Object(u.a)(p,2),v=m[0],w=m[1],g=Object(r.useRef)();return v?(console.log(c),o.a.createElement($,{onClick:function(t){l(k.random())},color:"black"},o.a.createElement(L,null,"hi ",v),o.a.createElement(E,{socket:n,data:c}),o.a.createElement("form",null,o.a.createElement(q,null,o.a.createElement("input",{id:"add-word",placeholder:"add a word :)",type:"text",onChange:function(t){b(t.target.value)}})),o.a.createElement(F,null,o.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),0!==f.length&&(document.getElementById("add-word").value="",n.emit("addword",{word:f,raptor:v,color:k.random().hex(),text_color:k.random().hex()}))}},"ADD"))),o.a.createElement(G,null,e.map((function(t){return o.a.createElement("div",{key:t},o.a.createElement("div",null,t," was added by ",c[t]&&c[t].publisher))}))))):o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h1",{style:{textAlign:"center"}},"who are you"),o.a.createElement("input",{style:{border:"2px black solid"},ref:g}),o.a.createElement("div",null,o.a.createElement("button",{style:{background:"yellow",margin:"1rem"},onClick:function(){localStorage.setItem("raptor",g.current.value),w(g.current.value)}},"corntinue\ud83c\udf3d"))," ")))};n(89),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(j,null,o.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.113e6881.chunk.js.map